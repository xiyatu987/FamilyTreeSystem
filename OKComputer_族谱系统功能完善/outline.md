# 族谱管理系统项目结构大纲
开发一个族谱管理系统是一个很有意义的项目，它可以帮助家族成员更好地了解彼此，保存家族历史。以下是一些关键的开发要点：
1. 数据库设计
家族成员表：存储成员的基本信息，如姓名、性别、出生日期、死亡日期、头像、手机号、微信号、抖音号等。
关系表：定义家族成员之间的关系，如父子、夫妻等。
照片表：存储成员上传的照片。
博客表：存储成员写的博客。
2. 功能实现
树状图展示：使用前端技术（如D3.js、ECharts等）实现家族树的展示，支持展开和隐藏功能。
信息编辑：提供编辑界面，允许用户修改成员信息。
照片和博客上传：实现文件上传功能，允许用户上传照片和写博客。
头像更改：允许用户更改自己的头像。
Excel导入：提供Excel模板，实现数据导入功能。
3. 技术选型
前端：React、Vue.js 或 Angular，用于构建用户界面。
后端：Node.js、Python Flask 或 Django，用于处理业务逻辑。
数据库：SQLite，轻量级且易于集成。
移动端：React Native 或 Flutter，用于开发移动端应用。
4. 安全和隐私
数据加密：对敏感信息进行加密存储。
用户认证：实现用户登录和权限管理，确保只有授权用户才能编辑信息。
5. 用户体验
界面友好：设计简洁直观的用户界面。
响应式设计：确保系统在不同设备上都能良好运行。
6. 测试和部署
单元测试：对关键功能进行单元测试。
集成测试：测试整个系统的集成情况。
部署：将系统部署到服务器上，确保稳定运行。
7. 维护和更新
定期更新：根据用户反馈和需求更新系统。
数据备份：定期备份数据库，防止数据丢失。
## 文件结构
```
d:\TRAE\OKComputer_族谱系统功能完善\
├── index.html              # 主页 - 家族树可视化
├── members.html            # 成员管理页面
├── gallery.html            # 相册管理页面  
├── blogs.html              # 博客管理页面
├── admin.html              # 管理员页面
├── main.js                 # 主要JavaScript逻辑
├── design.md               # 设计理念文档
├── outline.md              # 项目结构大纲
└── resources/              # 资源文件夹
    ├── hero-family-tree.png    # 主页hero图像
    ├── family-avatars.png      # 家族成员头像
    └── album-background.png    # 相册背景
```

## 页面功能详述

### index.html - 家族树主页
**核心功能**:
- 展示交互式家族树图 (ECharts.js)
- 添加新成员的快速入口
- 家族统计信息展示
- 最新照片和博客预览

**布局结构**:
- 顶部导航栏
- Hero区域 (简洁的标题和背景)
- 家族树可视化区域 (主要区域)
- 侧边信息面板
- 底部版权信息

### members.html - 成员管理
**核心功能**:
- 成员列表展示 (卡片式布局)
- 添加/编辑成员信息
- 成员搜索和筛选
- 关系管理

**包含模块**:
- 成员信息表单
- 头像上传功能
- 关系选择器
- 成员详情模态框

### gallery.html - 相册管理
**核心功能**:
- 照片网格展示
- 照片上传和管理
- 照片轮播查看
- 照片分类标签

**包含模块**:
- 照片上传区域
- 照片网格布局
- 照片查看器
- 分类筛选器

### blogs.html - 博客管理
**核心功能**:
- 博客列表展示
- 博客编辑器
- 评论系统
- 博客分类

**包含模块**:
- 富文本编辑器
- 博客卡片列表
- 博客详情页
- 互动功能(点赞/评论)

## JavaScript模块设计

### main.js 主要功能模块
1. **数据管理模块**
   - 家族成员数据CRUD
   - 照片数据管理
   - 博客数据管理
   - localStorage数据持久化

2. **家族树可视化模块**
   - ECharts图表初始化和配置
   - 节点交互事件处理
   - 树形结构数据转换

3. **UI交互模块**
   - 模态框管理
   - 表单验证和提交
   - 页面切换和导航

4. **文件上传模块**
   - 头像上传处理
   - 照片批量上传
   - 文件格式验证

## 交互设计

### 核心交互功能

#### 1. 家族树可视化交互
**主要功能**: 使用ECharts.js创建可交互的家族树图
- **节点点击**: 点击任意家族成员节点，展开显示详细信息面板
- **树形展开/收缩**: 支持展开/收缩不同分支，便于浏览大型家族树
- **拖拽导航**: 可以拖拽移动整个树形视图
- **缩放功能**: 支持放大缩小查看不同层级的细节
- **搜索定位**: 输入成员姓名快速定位到对应节点

#### 2. 成员信息管理
**添加新成员**:
- 点击"添加成员"按钮，弹出表单对话框
- 表单包含：姓名、性别、出生日期、头像上传、联系方式等
- 选择与新成员的关系（父子、夫妻、兄弟姐妹等）
- 提交后自动更新家族树

**编辑成员信息**:
- 点击成员节点或卡片上的"编辑"按钮
- 弹出编辑表单，显示当前信息
- 支持修改头像、联系方式、个人简介等
- 实时保存并更新显示

#### 3. 照片管理系统
**照片上传**:
- 拖拽或点击上传照片
- 支持批量上传多张照片
- 自动为照片添加时间戳和描述

**照片浏览**:
- 网格布局展示所有照片
- 点击照片放大查看
- 支持左右滑动浏览
- 显示照片上传者和上传时间

#### 4. 博客系统交互
**写博客**:
- 富文本编辑器，支持格式化文本
- 可以插入照片和家族成员标签
- 自动保存草稿功能

**博客浏览**:
- 卡片式布局展示博客列表
- 点击博客标题查看完整内容
- 支持评论和点赞功能

### 用户操作流程

#### 首次使用流程
1. 用户进入系统，看到空的家族树
2. 点击"创建家族"，输入创始成员信息
3. 逐步添加其他家族成员
4. 上传家族照片和写博客

#### 日常使用流程
1. 查看家族树，了解家族结构
2. 添加新成员（新生儿、新婚配偶等）
3. 更新现有成员信息
4. 上传新的家族照片
5. 分享家族故事和新闻

### 响应式设计
- **桌面端**: 完整的家族树视图和侧边栏
- **平板端**: 适配中等屏幕，保持核心功能
- **移动端**: 垂直布局，简化操作，优化触摸体验

### 数据持久化
- 使用localStorage保存用户数据
- 支持数据导出为JSON格式
- 支持Excel数据导入功能

## 技术栈
- **前端框架**: 原生HTML/CSS/JavaScript
- **UI库**: Tailwind CSS
- **图表库**: ECharts.js
- **动画库**: Anime.js
- **轮播库**: Splide.js
- **创意效果**: p5.js

## 数据结构设计

### 家族成员数据
```javascript
{
  id: "unique_id",
  name: "姓名",
  gender: "male/female",
  birthDate: "出生日期",
  avatar: "头像URL",
  phone: "手机号",
  wechat: "微信号",
  tiktok: "抖音号",
  parents: ["父ID", "母ID"],
  spouse: "配偶ID",
  children: ["子女ID数组"],
  description: "个人简介"
}
```

### 照片数据
```javascript
{
  id: "photo_id",
  url: "照片URL",
  title: "照片标题",
  description: "照片描述",
  uploader: "上传者ID",
  uploadDate: "上传日期",
  tags: ["标签数组"],
  relatedMembers: ["相关成员ID数组"]
}
```

### 博客数据
```javascript
{
  id: "blog_id",
  title: "博客标题",
  content: "博客内容",
  author: "作者ID",
  publishDate: "发布日期",
  photos: ["相关照片ID数组"],
  likes: 点赞数,
  comments: [评论数组]
}
```
