<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家族树布局测试</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <style>
        #tree-container {
            width: 100%;
            height: 600px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>家族树布局测试</h1>
    <p>第二代在第一代下面，第三代在第二代后面</p>
    <div id="tree-container"></div>

    <script>
        // 初始化ECharts实例
        const chart = echarts.init(document.getElementById('tree-container'));

        // 示例数据
        const treeData = {
            name: '王万',
            children: [
                {
                    name: '李万',
                    children: [
                        { name: '王一一' },
                        { name: '王一二' },
                        { name: '王一三' }
                    ]
                },
                {
                    name: '王五',
                    children: [
                        { name: '王二一' },
                        { name: '王二二' }
                    ]
                }
            ]
        };

        // 配置选项
        const option = {
            tooltip: {
                trigger: 'item',
                triggerOn: 'mousemove'
            },
            series: [
                {
                    type: 'tree',
                    data: [treeData],
                    top: '10%',
                    left: '10%',
                    bottom: '10%',
                    right: '10%',
                    symbolSize: 70,
                    symbol: 'circle',
                    layout: 'vertical',
                    orient: 'TB',
                    levelGap: 80,
                    nodeGap: 20,
                    levels: [
                        {
                            level: 0,
                            orient: 'TB'
                        },
                        {
                            level: 1,
                            orient: 'TB'
                        },
                        {
                            level: 2,
                            orient: 'LR'
                        }
                    ],
                    label: {
                        position: 'inside',
                        verticalAlign: 'middle',
                        align: 'center',
                        fontSize: 12,
                        color: '#333'
                    },
                    lineStyle: {
                        color: '#795548',
                        width: 2,
                        type: 'solid',
                        curveness: 0.2
                    },
                    initialTreeDepth: -1
                }
            ]
        };

        // 设置图表选项
        chart.setOption(option);

        // 响应窗口大小变化
        window.addEventListener('resize', () => {
            chart.resize();
        });
    </script>
</body>
</html>